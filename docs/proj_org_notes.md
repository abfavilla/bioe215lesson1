# Creating a RStudio project and corresponding GitHub repo

# Step 1 - Create RStudio project

In RStudio: 
File > New Project > New Directory > New Project 

_Note to self:_ 
*Directory name* should stick to letters and numbers, and avoid special characters like spaces, underscores, and dashes. This ensures your directory name will be compatible with the naming requirements for R, git, and GitHub.
Keep projects under Documents > GitHub

_Check:_ After creating the project, make sure you see both the git pane and the project name.

# Step 2: Set up RStudio & GitHub communication (must have a GitHub account)

Install *usethis* package, which has helpful functions for project organization and management.

In RStudio Terminal pane: 
run git config --list

If the user.name and user.email are not the same as your GitHub account, then RUN THIS ONCE to set it up: 
usethis::use_git_config(user.name = "YOURNAME", user.email = "YOUREMAIL")

Create a Personal Access Token on the browser. Run this to get you there: 
usethis::create_github_token()

Give your token the name “RSTUDIO” and change the Expiration from 30 days to 90 days. Scroll all the way to the bottom and click the green Generate token button. COPY THE TOKEN. 

In RStudio Console pane:
run gitcreds::gitcreds_set()
You’ll get a prompt to ? Enter new password or token:. Paste your token and click enter.

Now RStudio and GitHub can talk to each other :D 

# Step 3: Create GitHub repo

Run the following to get you to the browser: 
usethis::use_git()
Then commit the uncommitted files. 
The run:
usethis::git_default_branch_rename()
usethis::use_github() <-- this brings up GitHub repo in browser again 

# Project Organization 

The _data_ folder contains all input data (and metadata) used in the analysis.

The _paper_ folder contains the manuscript.

The _figs_ directory contains figures generated by the analysis.

The _output_ folder contains any type of intermediate or output files (e.g. simulation outputs, models, processed datasets, etc.). You might separate this and also have a cleaned-data folder.

The _R_ directory contains R scripts with function definitions.

The _reports_ folder contains Quarto documents5 that describe the analysis or report on results.

The _docs_ folder contains the rendered versions of the reports.

The _scratch_ folder contains early prototypes and other code I don’t fully understand yet.

_Note to self_: 
The scripts that actually do things are stored in the root directory, but if your project has many scripts, you might want to organize them in a directory of their own.

If your raw data are small (<100 MB) and you have permission to make them public6, then it’s ok to store them on GitHub. If they’re big or private, you’ll need to keep them off GitHub. That’s what the .gitignore file is for. If necessary, call usethis::use_git_ignore("data/*"), which will add your data/ directory to .gitignore and keep it out of GitHub.

# GitHub Pages

GitHub will turn everything in your docs/ directory into the project website. By default, anything called “index” will be your landing page. 

_Note to self:_ Make sure editor says Source when editing .md files. 

In GitHub repo in browser:  
Settings > Pages (under Code and automation) 
Source should display *Deploy from a branch* 
Branch should be changed from *None* to *main* 
Directory should be changed from */(root)* to */docs*
Save these changes. 

In RStudio: 
Commit changes by: 
Checking boxes to *stage files* <-- this tells git you want to commit them
Commit > add commit message > Commit > Push 

In GitHub repo in browser: 
Switch to the Actions tab. You’ll see a job running called pages build and deployment with a yellow dot next to it. Click on the job and wait for the steps to all turn green.
Click link under *deploy*

